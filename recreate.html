<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Recreate the solar system</title>
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/animation.css">
    <link rel="stylesheet" href="styles/elements.css">
    <link rel="stylesheet" href="styles/guide.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="javascripts/main.js" defer></script>
  </head>
  <style>
    body{
        background-image:url("images/background2.png");
    }
  </style>
  <body>
    <span id="titleOfTheGame">Recreate the solar system</span>
    <div id="content" class="Content">
        <div class="draggable-elements" id="draggable-elements">
            <img src="images/Uranus.png" alt="Uranus" id="uranus" class="draggable" draggable="true">
            <img src="images/Earth.png" alt="Earth" id="earth" class="draggable" draggable="true">        
            <img src="images/Jupiter.png" alt="Jupiter" id="jupiter" class="draggable" draggable="true">
            <img src="images/Saturn.png" alt="Saturn" id="saturn" class="draggable" draggable="true">
            <img src="images/Venus.png" alt="Venus" id="venus" class="draggable" draggable="true">
            <img src="images/Mars.png" alt="Mars" id="mars" class="draggable" draggable="true">
            <img src="images/Neptune.png" alt="Neptune" id="neptune" class="draggable" draggable="true">
            <img src="images/Mercury.png" alt="Mercury" id="mercury" class="draggable" draggable="true">
        </div>
        
        <section class="droppable-elements" id="droppable-elements">
            <img src="images/Sun.png" alt="" id="sun">
            <img src="images/GGBB.png" alt="" id="belt">
            <div class="orbit" id="neptuneOrbit">
                <img src="images/Neptune.png" alt="Neptune" class="planets droppable" id="neptune1" draggable="true"> 
            </div>
            <div class="orbit" id="uranusOrbit">
                <img src="images/Uranus.png" alt="Uranus" class="planets droppable" id="uranus1" draggable="true">
            </div>
            <div class="orbit" id="saturnOrbit">
                <img src="images/Saturn.png" alt="Saturn" class="planets droppable" id="saturn1" draggable="true">
            </div>
            <div class="orbit" id="jupiterOrbit">
                <img src="images/Jupiter.png" alt="Jupiter" class="planets droppable" id="jupiter1" draggable="true">
            </div>
            <div class="orbit" id="marsOrbit">
                <img src="images/Mars.png" alt="Mars" class="planets droppable" id="mars1" draggable="true">
            </div>
            <div class="orbit" id="earthOrbit">
                <img src="images/Earth.png" alt="Earth" class="planets droppable" id="earth1" draggable="true">
            </div>
            <div class="orbit" id="venusOrbit">
                <img src="images/Venus.png" alt="Venus" class="planets droppable" id="venus1" draggable="true">
            </div>
            <div class="orbit" id="mercuryOrbit">
                <img src="images/Mercury.png" alt="Mercury" class="planets droppable" id="mercury1" draggable="true">
            </div>
        </section>

        <section class="guide" id="guide" style="display: none;">
            <img id="guide-img" src="cartoon-robot.png" alt="astraunaut"></img>
                <div class="instructions to-text" id="instruct">
                    
                </div>
                <!-- <button onclick="showAlert()">Click here to trigger the modal!</button> -->
                
            </div>
            <div class="alert" id="alert" style="display: none;">
                <span class="closebtn" onclick="closeAlert()">&times;</span>
                <h3>DID YOU KNOW?</h3>
                <h2 id="title"></h2>
                <img src="" alt="Loading....." id="img">
                <p id="explaination"></p>
            </div>

            <div class="alert" id="alert1" style="display: none;">
                <span class="closebtn" onclick="closeAlert1()">&times;</span>
                <h3>CHOOSE A LANGUAGE:</h3>
                <select name="" id="">
                    <option>en</option>
                    <option>hi</option>
                    <option>gu</option> 
                </select>
                <button class="translate">Translate</button>
            </div>

            <!-- <div class="alert" id="alert1">
                <div style="padding: 60px;">
                    <h2 style="margin-bottom: 2rem; margin-top: 0; color:black">CHOOSE A LANGUAGE:</h2>
                    <select name="" id="" style="padding:10px; border-width:1px;">
                        <option>ENGLISH</option>
                        <option>HINDI</option>
                    </select>
                    <button class="translate trans1"  onclick="closeAlert()" style="padding:10px">Translate</button>
                </div>
            </div> -->
            
        </section> 
    </div>
    <!-- <audio autoplay>
        <source src="dark_matter.mp3" type="audio/mpeg">
    </audio> -->
    <script src="javascripts/facts.js"></script>
    <script src="javascripts/orbits.js"></script>
    <script src="javascripts/guide.js"></script>
    <script>
        var lang;
        // window.onload = function(){document.getElementById("alert1").style.display="block"}
        function dexter_voice(lang, translatedText){
            let utterance;
            utterance = new SpeechSynthesisUtterance(translatedText)
            utterance.lang = lang;
            speechSynthesis.speak(utterance)
}

function showAlert(){
    document.getElementById("alert1").style.display="block"
}

function closeAlert1(){
    document.getElementById("alert1").style.display="none"
}



// for (const country_code in countries) {
//    // let selected;
//    // if(id==0 && country_code == "en-GB"){
//    //     selected="selected";

//    // }else if(id==1 && country_code == "hi-IN"){
//    //     selected="selected";
//    // }
//    console.log(countries[country_code]);

//    // let option=`<option value="${country_code}" ${selected}>${countries[country_code]}</option>`;
//    // tag.insertAdjacentHTML("beforeend",option);
  
// }

const formText=document.querySelector("#instruct");
const toText=document.querySelector(".to-text");
selectTag=document.querySelector("select");
translatorBtn=document.querySelector(".translate");
translateFrom="en",

translatorBtn.addEventListener("click",()=>{
    // translateTo=selectTag.value;
    translateTo = selectTag.value
    let text=document.getElementById("instruct").innerText
    if(!text)return;
    // toText.setAttribute("placeholder","Translating..");

    if(translateTo == "hi" || translateTo == "gu"){
        let api_url="https://api.mymemory.translated.net/get?q="+text+"&langpair="+translateFrom+"|"+translateTo;
        fetch(api_url).then(res=>res.json()).then(data=>{
        // console.log(data);
        // document.getElementById("instruct").innerText=data.responseData.translatedText;
        translatedText = data.responseData.translatedText;
        toText.setAttribute("placeholder","Translation");
        dexter_voice("hi", translatedText)
    });
    }

    else{
        dexter_voice("en", text)
    }


});

// var translateFrom="en";
// var translateTo=selectTag.value;

function translateLang(text){
   const toText=document.querySelector(".to-text");
   translateTo= selectTag.value

//    let text=document.getElementById("instruct").innerText
   if(!text)return;
//    console.log(text)
   // toText.setAttribute("placeholder","Translating..");

   // text = OKbutton();

   if(translateTo == "hi" || translateTo == "gu"){
        let api_url="https://api.mymemory.translated.net/get?q="+text+"&langpair="+translateFrom+"|"+translateTo;
        fetch(api_url).then(res=>res.json()).then(data=>{
        // console.log(data);
        // document.getElementById("instruct").innerText=data.responseData.translatedText;
        translatedText = data.responseData.translatedText;
        toText.setAttribute("placeholder","Translation");
        dexter_voice("hi", translatedText)
    });
    }

    else{
        let api_url="https://api.mymemory.translated.net/get?q="+text+"&langpair=en|hi";
        fetch(api_url).then(res=>res.json()).then(data=>{
        // console.log(data);
        // document.getElementById("instruct").innerText=data.responseData.translatedText;
        translatedText = data.responseData.translatedText;
        toText.setAttribute("placeholder","Translation");
        dexter_voice("hi", translatedText)
    });
}
}

    </script>
  </body>
</html>
